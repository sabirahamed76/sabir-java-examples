--ORACLE
  CREATE TABLE  BATCH_JOB_INSTANCE 
 (  JOB_INSTANCE_ID  NUMBER(19,0) NOT NULL ENABLE,
  VERSION  NUMBER(19,0),
  JOB_NAME  VARCHAR2(100 BYTE) NOT NULL ENABLE,
  JOB_KEY  VARCHAR2(32 BYTE) NOT NULL ENABLE,
 PRIMARY KEY ( JOB_INSTANCE_ID )
 USING INDEX PCTFREE 10 INITRANS 50 MAXTRANS 255,
 CONSTRAINT  JOB_INST_UN  UNIQUE ( JOB_NAME ,  JOB_KEY )
 USING INDEX PCTFREE 10 INITRANS 50 MAXTRANS 255
 ) ROWDEPENDENCIES SEGMENT CREATION IMMEDIATE
 PCTFREE 10 PCTUSED 40 INITRANS 50 MAXTRANS 255;
 
 CREATE TABLE  BATCH_JOB_EXECUTION 
 (  JOB_EXECUTION_ID  NUMBER(19,0) NOT NULL ENABLE,
  VERSION  NUMBER(19,0),
  JOB_INSTANCE_ID  NUMBER(19,0) NOT NULL ENABLE,
  CREATE_TIME  TIMESTAMP (6) NOT NULL ENABLE,
  START_TIME  TIMESTAMP (6) DEFAULT NULL,
  END_TIME  TIMESTAMP (6) DEFAULT NULL,
  STATUS  VARCHAR2(10 BYTE),
  EXIT_CODE  VARCHAR2(2500 BYTE),
  EXIT_MESSAGE  VARCHAR2(2500 BYTE),
  LAST_UPDATED  TIMESTAMP (6),
  JOB_CONFIGURATION_LOCATION  VARCHAR2(2500 BYTE),
 PRIMARY KEY ( JOB_EXECUTION_ID )
 USING INDEX PCTFREE 10 INITRANS 50 MAXTRANS 255,
 CONSTRAINT  JOB_INST_EXEC_FK  FOREIGN KEY ( JOB_INSTANCE_ID )
 REFERENCES  BATCH_JOB_INSTANCE  ( JOB_INSTANCE_ID ) ENABLE
 ) ROWDEPENDENCIES  SEGMENT CREATION IMMEDIATE
 PCTFREE 10 PCTUSED 40 INITRANS 50 MAXTRANS 255;
 
CREATE TABLE  BATCH_JOB_EXECUTION_PARAMS 
 (  JOB_EXECUTION_ID  NUMBER(19,0) NOT NULL ENABLE,
  TYPE_CD  VARCHAR2(6 BYTE) NOT NULL ENABLE,
  KEY_NAME  VARCHAR2(100 BYTE) NOT NULL ENABLE,
  STRING_VAL  VARCHAR2(250 BYTE),
  DATE_VAL  TIMESTAMP (6) DEFAULT NULL,
  LONG_VAL  NUMBER(19,0),
  DOUBLE_VAL  NUMBER,
  IDENTIFYING  CHAR(1 BYTE) NOT NULL ENABLE,
 CONSTRAINT  JOB_EXEC_PARAMS_FK  FOREIGN KEY ( JOB_EXECUTION_ID )
 REFERENCES  BATCH_JOB_EXECUTION  ( JOB_EXECUTION_ID ) ENABLE
 ) ROWDEPENDENCIES  SEGMENT CREATION IMMEDIATE
 PCTFREE 10 PCTUSED 40 INITRANS 50 MAXTRANS 255;
 
CREATE TABLE  BATCH_STEP_EXECUTION 
 (  STEP_EXECUTION_ID  NUMBER(19,0) NOT NULL ENABLE,
  VERSION  NUMBER(19,0) NOT NULL ENABLE,
  STEP_NAME  VARCHAR2(100 BYTE) NOT NULL ENABLE,
  JOB_EXECUTION_ID  NUMBER(19,0) NOT NULL ENABLE,
  START_TIME  TIMESTAMP (6) NOT NULL ENABLE,
  END_TIME  TIMESTAMP (6) DEFAULT NULL,
  STATUS  VARCHAR2(10 BYTE),
  COMMIT_COUNT  NUMBER(19,0),
  READ_COUNT  NUMBER(19,0),
  FILTER_COUNT  NUMBER(19,0),
  WRITE_COUNT  NUMBER(19,0),
  READ_SKIP_COUNT  NUMBER(19,0),
  WRITE_SKIP_COUNT  NUMBER(19,0),
  PROCESS_SKIP_COUNT  NUMBER(19,0),
  ROLLBACK_COUNT  NUMBER(19,0),
  EXIT_CODE  VARCHAR2(2500 BYTE),
  EXIT_MESSAGE  VARCHAR2(2500 BYTE),
  LAST_UPDATED  TIMESTAMP (6),
 PRIMARY KEY ( STEP_EXECUTION_ID )
 USING INDEX PCTFREE 10 INITRANS 50 MAXTRANS 255,
 CONSTRAINT  JOB_EXEC_STEP_FK  FOREIGN KEY ( JOB_EXECUTION_ID )
 REFERENCES  BATCH_JOB_EXECUTION  ( JOB_EXECUTION_ID ) ENABLE
 ) ROWDEPENDENCIES  SEGMENT CREATION IMMEDIATE
 PCTFREE 10 PCTUSED 40 INITRANS 50 MAXTRANS 255;
 
 CREATE TABLE  BATCH_JOB_EXECUTION_CONTEXT 
 (  JOB_EXECUTION_ID  NUMBER(19,0) NOT NULL ENABLE,
  SHORT_CONTEXT  VARCHAR2(2500 BYTE) NOT NULL ENABLE,
  SERIALIZED_CONTEXT  CLOB,
 PRIMARY KEY ( JOB_EXECUTION_ID )
 USING INDEX PCTFREE 10 INITRANS 50 MAXTRANS 255,
 CONSTRAINT  JOB_EXEC_CTX_FK  FOREIGN KEY ( JOB_EXECUTION_ID )
 REFERENCES  BATCH_JOB_EXECUTION  ( JOB_EXECUTION_ID ) ENABLE
 ) ROWDEPENDENCIES  SEGMENT CREATION IMMEDIATE
 PCTFREE 10 PCTUSED 40 INITRANS 50 MAXTRANS 255;
 
 CREATE TABLE  BATCH_STEP_EXECUTION_CONTEXT 
 (  STEP_EXECUTION_ID  NUMBER(19,0) NOT NULL,
  SHORT_CONTEXT  VARCHAR2(2500 BYTE) NOT NULL,
  SERIALIZED_CONTEXT  CLOB,
 PRIMARY KEY ( STEP_EXECUTION_ID ) USING INDEX PCTFREE 10 INITRANS 50 MAXTRANS 255,
 CONSTRAINT  STEP_EXEC_CTX_FK  FOREIGN KEY ( STEP_EXECUTION_ID )
 REFERENCES  BATCH_STEP_EXECUTION  ( STEP_EXECUTION_ID )
 ) ROWDEPENDENCIES  PCTFREE 10 PCTUSED 40 INITRANS 50 MAXTRANS 255;
 

CREATE SEQUENCE BATCH_STEP_EXECUTION_SEQ;
CREATE SEQUENCE BATCH_JOB_EXECUTION_SEQ;
CREATE SEQUENCE BATCH_JOB_SEQ;



------MYSQL


 CREATE TABLE BATCH_JOB_INSTANCE  (
  JOB_INSTANCE_ID BIGINT  PRIMARY KEY ,
  VERSION BIGINT,
  JOB_NAME VARCHAR(100) NOT NULL ,
  JOB_KEY VARCHAR(2500)
);
 CREATE TABLE BATCH_JOB_EXECUTION_PARAMS  (
	JOB_EXECUTION_ID BIGINT NOT NULL ,
	TYPE_CD VARCHAR(6) NOT NULL ,
	KEY_NAME VARCHAR(100) NOT NULL ,
	STRING_VAL VARCHAR(250) ,
	DATE_VAL DATETIME DEFAULT NULL ,
	LONG_VAL BIGINT ,
	DOUBLE_VAL DOUBLE PRECISION ,
	IDENTIFYING CHAR(1) NOT NULL 
);

CREATE TABLE BATCH_JOB_EXECUTION  (
  JOB_EXECUTION_ID BIGINT  PRIMARY KEY ,
  VERSION BIGINT,
  JOB_INSTANCE_ID BIGINT NOT NULL,
  CREATE_TIME TIMESTAMP NOT NULL,
  START_TIME TIMESTAMP DEFAULT NULL,
  END_TIME TIMESTAMP DEFAULT NULL,
  STATUS VARCHAR(10),
  EXIT_CODE VARCHAR(20),
  EXIT_MESSAGE VARCHAR(2500),
  LAST_UPDATED TIMESTAMP,
  JOB_CONFIGURATION_LOCATION VARCHAR(2500) NULL
) ;

CREATE TABLE BATCH_STEP_EXECUTION  (
  STEP_EXECUTION_ID BIGINT  PRIMARY KEY ,
  VERSION BIGINT NOT NULL,
  STEP_NAME VARCHAR(100) NOT NULL,
  JOB_EXECUTION_ID BIGINT NOT NULL,
  START_TIME TIMESTAMP NOT NULL ,
  END_TIME TIMESTAMP DEFAULT NULL,
  STATUS VARCHAR(10),
  COMMIT_COUNT BIGINT ,
  READ_COUNT BIGINT ,
  FILTER_COUNT BIGINT ,
  WRITE_COUNT BIGINT ,
  READ_SKIP_COUNT BIGINT ,
  WRITE_SKIP_COUNT BIGINT ,
  PROCESS_SKIP_COUNT BIGINT ,
  ROLLBACK_COUNT BIGINT ,
  EXIT_CODE VARCHAR(20) ,
  EXIT_MESSAGE VARCHAR(2500) ,
  LAST_UPDATED TIMESTAMP
) ;

CREATE TABLE BATCH_JOB_EXECUTION_CONTEXT  (
  JOB_EXECUTION_ID BIGINT PRIMARY KEY,
  SHORT_CONTEXT VARCHAR(2500) NOT NULL,
  SERIALIZED_CONTEXT LONGTEXT
) ;

CREATE TABLE BATCH_STEP_EXECUTION_CONTEXT  (
  STEP_EXECUTION_ID BIGINT PRIMARY KEY,
  SHORT_CONTEXT VARCHAR(2500) NOT NULL,
  SERIALIZED_CONTEXT LONGTEXT
) ;


CREATE TABLE BATCH_STEP_EXECUTION_SEQ (ID BIGINT NOT NULL) type=InnoDB;
INSERT INTO BATCH_STEP_EXECUTION_SEQ values(0);
CREATE TABLE BATCH_JOB_EXECUTION_SEQ (ID BIGINT NOT NULL) type=InnoDB;
INSERT INTO BATCH_JOB_EXECUTION_SEQ values(0);
CREATE TABLE BATCH_JOB_SEQ (ID BIGINT NOT NULL) type=InnoDB;
INSERT INTO BATCH_JOB_SEQ values(0);
